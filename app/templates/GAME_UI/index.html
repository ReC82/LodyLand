{% extends "game_base.html" %}

{% block title %}LodyLand â€” Play{% endblock %}

{% block content %}
<div class="container game-wrapper py-4">

  <!-- ðŸ§‘ Bandeau joueur / HUD -->
  <section class="game-panel mb-4">
    <div class="row align-items-center g-3">
      <div class="col-md-6">
        <div class="d-flex flex-column gap-1">
          <div class="small text-uppercase text-muted">Joueur actuel</div>
          <div id="playerHeader" class="fw-semibold h5 mb-0">
            Aucun joueur (clique sur "Commencer").
          </div>

          <div class="d-flex gap-3 mt-2 small">
            <div class="hud-pill">
              <span class="hud-label">Coins</span>
              <span id="hudCoins" class="hud-value">0</span>
            </div>
            <div class="hud-pill">
              <span class="hud-label">Diams</span>
              <span id="hudDiams" class="hud-value">0</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6 text-md-end">
        <div class="input-group input-group-sm mb-2 justify-content-md-end">
          <span class="input-group-text">Nom</span>
          <input id="playerName" type="text" class="form-control" placeholder="Farmer001">
          <button class="btn btn-success" onclick="startGame()">Commencer</button>
        </div>

        <!-- Barre d'XP -->
        <div class="small text-muted mb-1">
          <span id="xpLabelLeft">XP: 0 â€¢ Level: 0</span>
          <span class="float-end" id="xpLabelRight">0%</span>
        </div>
        <div class="progress game-xpbar">
          <div
            id="xpBar"
            class="progress-bar bg-success"
            role="progressbar"
            style="width: 0%;"
            aria-valuemin="0"
            aria-valuemax="100">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ðŸ—ºï¸ Grille de tuiles -->
  <section class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h2 class="h5 mb-0 section-title">Terrain</h2>
      <small id="gridStatus" class="text-muted">
        Clique sur une tuile pour rÃ©colter.
      </small>
    </div>

    <div id="gridBox" class="row row-cols-2 row-cols-md-4 row-cols-lg-5 g-3">
      <div class="col">
        <div class="game-card placeholder text-center small text-muted">
          Chargement des tuiles...
        </div>
      </div>
    </div>
  </section>

  <!-- ðŸŽ’ Inventaire -->
  <section class="mb-4">
    <h2 class="h5 mb-2 section-title">Inventaire</h2>
    <div id="inventoryBox" class="row row-cols-2 row-cols-md-4 g-2">
      <div class="col">
        <div class="game-card small text-muted d-flex align-items-center justify-content-center">
          Inventaire vide.
        </div>
      </div>
    </div>
  </section>

  <!-- â­ Boosts actifs -->
  <section class="mb-4">
    <h2 class="h5 mb-2 section-title">Boosts actifs</h2>
    <div id="boostSummaryBox" class="small game-card">
      Aucun boost actif.
    </div>
  </section>

  <!-- ðŸƒ Shop de cartes -->
  <section class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h2 class="h5 mb-0 section-title">Shop de cartes</h2>
      <small id="cardShopStatus" class="text-muted">
        Connecte-toi pour voir les cartes disponibles.
      </small>
    </div>

    <div id="cardShopBox" class="row row-cols-1 row-cols-md-3 g-3">
      <div class="col">
        <div class="game-card small text-muted text-center">
          Chargement du shop...
        </div>
      </div>
    </div>
  </section>

</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='GAME_UI/js/game_app.js') }}"></script>
{% endblock %}
