<!--
  File: static/ui/index.html
  Purpose: Cleaner debug UI with Bootstrap, same IDs so app.js keeps working.
-->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lodyland â€” Debug UI</title>

  <!-- Bootstrap 5 (CDN) -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <!-- Custom styles (optionnel) -->
  <link rel="stylesheet" href="/static/ui/styles.css">
</head>
<body class="bg-light">

  <!-- ========================================================= -->
  <!--  NAVBAR (titre + serveur + joueur courant)               -->
  <!-- ========================================================= -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom mb-3">
    <div class="container-fluid">
      <span class="navbar-brand">ðŸ§ª Lodyland</span>
      <div class="ms-auto small text-muted">
        Serveur:
        <span id="serverUrl" class="font-monospace"></span>
        <span class="ms-3">
          Joueur:
          <span id="currentPlayerName" class="fw-semibold">â€”</span>
        </span>
      </div>
    </div>
  </nav>
  <!-- ======================= /NAVBAR ========================= -->

  <main class="container mb-4">
    <div class="row g-3">

      <!-- ===================================================== -->
      <!--  SECTION: Auth (Register / Login / Logout)           -->
      <!-- ===================================================== -->
      <div class="col-12 col-lg-4">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Auth</h5>

            <div class="mb-2">
              <label class="form-label">Name</label>
              <input id="playerName" class="form-control" value="Lloyd" />
            </div>

            <div class="d-flex flex-wrap gap-2 mb-2">
              <button class="btn btn-primary" onclick="register()">Register (cookie)</button>
              <button class="btn btn-outline-primary" onclick="login()">Login</button>
              <button class="btn btn-outline-secondary" onclick="logout()">Logout</button>
            </div>

            <div id="authBox" class="text-muted font-monospace small">
              Not connected.
            </div>
          </div>
        </div>
      </div>
      <!-- ===================== /SECTION: Auth ================= -->

      <!-- ===================================================== -->
      <!--  SECTION: Player (infos + refresh)                   -->
      <!-- ===================================================== -->
      <div class="col-12 col-lg-8">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Player</h5>

            <div class="d-flex flex-wrap gap-2 mb-2">
              <button class="btn btn-success" onclick="createPlayer()">Create Player</button>
              <button class="btn btn-outline-success" onclick="refreshPlayer()">Refresh Player</button>
            </div>

            <pre id="playerBox" class="bg-body-secondary p-2 rounded small mb-0">No player.</pre>
          </div>
        </div>
      </div>
      <!-- =================== /SECTION: Player ================= -->

      <!-- ===================================================== -->
      <!--  SECTION: Tiles (choix ressource + unlock + liste)   -->
      <!-- ===================================================== -->
      <div class="col-12">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Tiles</h5>

            <!-- Choix de la ressource -->
            <div class="mb-2">
              <label class="form-label">Ressource</label>
              <select id="resource" class="form-select"></select>
              <div id="resInfo" class="text-muted font-monospace small mt-1">â€”</div>
            </div>

            <!-- Boutons Unlock / List -->
            <div class="d-flex flex-wrap gap-2 mb-2">
              <button
                id="unlockBtn"
                class="btn btn-warning"
                onclick="unlockTile()"
              >
                Unlock tile
              </button>
              <button
                class="btn btn-outline-secondary"
                onclick="refreshTiles()"
              >
                Lister tiles
              </button>
            </div>

            <!-- RÃ©sultat: liste des tiles -->
            <pre id="tilesBox" class="bg-body-secondary p-2 rounded small mb-0">Aucune tuile.</pre>
          </div>
        </div>
      </div>
      <!-- =================== /SECTION: Tiles ================== -->

      <!-- ===================================================== -->
      <!--  SECTION: Collect (rÃ©colte + logs)                   -->
      <!-- ===================================================== -->
      <div class="col-12 col-lg-6">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Collect</h5>

            <div class="row g-2 align-items-end mb-2">
              <div class="col-6">
                <label class="form-label">ID tuile</label>
                <input
                  id="tileId"
                  class="form-control font-monospace"
                  placeholder="ex: 1"
                />
              </div>
              <div class="col-6 d-grid">
                <button
                  id="collectBtn"
                  class="btn btn-danger"
                  onclick="collect()"
                >
                  Collect
                </button>
              </div>
            </div>

            <pre id="collectBox" class="bg-body-secondary p-2 rounded small mb-0">No collect yet.</pre>
          </div>
        </div>
      </div>
      <!-- ================== /SECTION: Collect ================= -->

      <!-- ===================================================== -->
      <!--  SECTION: Daily Chest                               -->
      <!-- ===================================================== -->
      <div class="col-12 col-lg-6">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Daily Chest</h5>

            <div class="mb-2">
              <button
                id="dailyBtn"
                class="btn btn-danger"
                onclick="claimDaily()"
              >
                Claim daily
              </button>
            </div>

            <div id="dailyBox" class="text-muted font-monospace small">
              Non rÃ©clamÃ© aujourd'hui.
            </div>
          </div>
        </div>
      </div>
      <!-- ================= /SECTION: Daily Chest ============== -->

      <!-- ===================================================== -->
      <!--  SECTION: Progression (XP bar + pourcentage)         -->
      <!-- ===================================================== -->
      <div class="col-12">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Progression</h5>

            <div class="progress" aria-label="XP progress">
              <div
                id="progressFill"
                class="progress-bar"
                role="progressbar"
                style="width: 0%;"
              ></div>
            </div>

            <div class="d-flex justify-content-between small mt-2 text-muted">
              <span id="progressTextLeft" class="font-monospace">XP: 0</span>
              <span id="progressTextRight" class="font-monospace">0%</span>
            </div>
          </div>
        </div>
      </div>
      <!-- ================ /SECTION: Progression ============== -->

      <!-- ===================================================== -->
      <!--  SECTION: Inventory + Sell                           -->
      <!-- ===================================================== -->
      <div class="col-12">
        <div class="card h-100">
          <div class="card-body">

            <!-- Inventory header + bouton Refresh -->
            <div class="d-flex align-items-center justify-content-between mb-2">
              <h5 class="card-title mb-0">Inventory</h5>
              <button
                class="btn btn-outline-secondary btn-sm"
                onclick="refreshInventory()"
              >
                Refresh
              </button>
            </div>

            <!-- Grille dâ€™inventaire -->
            <div id="inventoryBox" class="row row-cols-2 row-cols-md-4 g-2 mt-1"></div>

            <hr class="my-3">

            <!-- Sous-section Sell -->
            <h6 class="mb-2">Sell to NPC</h6>
            <div class="row g-2 align-items-end">
              <div class="col-12 col-md-4">
                <label class="form-label">Ressource</label>
                <select id="sellResource" class="form-select">
                  <!-- options par dÃ©faut, pourra Ãªtre dynamiquement peuplÃ© plus tard -->
                  <option value="branch">branch</option>
                  <option value="palm_leaf">palm_leaf</option>
                  <option value="wood">wood</option>
                  <option value="stone">stone</option>
                </select>
              </div>
              <div class="col-6 col-md-3">
                <label class="form-label">Qty</label>
                <input id="sellQty" class="form-control" value="1" />
              </div>
              <div class="col-6 col-md-3 d-grid">
                <button class="btn btn-outline-primary" onclick="sell()">
                  Sell
                </button>
              </div>
            </div>

          </div>
        </div>
      </div>
      <!-- =============== /SECTION: Inventory + Sell ========== -->

      <!-- ===================================================== -->
      <!--  SECTION: Gameplay Grid (preview)                     -->
      <!--  (affiche les tuiles dÃ©bloquÃ©es sous forme de cartes) -->
      <!-- ===================================================== -->
      <div class="col-12">
        <div class="card h-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h5 class="card-title mb-0">Gameplay Grid (preview)</h5>
              <span class="badge bg-secondary-subtle text-secondary-emphasis small">
                Debug only
              </span>
            </div>

            <p class="text-muted small mb-3">
              Ici on affichera la vraie grille de tuiles du jeu
              (unlocked, prochaine tuile Ã  dÃ©bloquer, cooldowns, etc.).
            </p>

            <!-- Conteneur de la grille (rempli par app.js / refreshGrid) -->
            <div
              id="gridBox"
              class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3"
            ></div>
            <!-- /gridBox -->
          </div>
        </div>
      </div>
      <!-- ============== FIN SECTION: Gameplay Grid (preview) ============== -->


    </div>
  </main>

  <!-- Bootstrap JS (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- App JS -->
  <script src="/static/ui/app.js"></script>
</body>
</html>
